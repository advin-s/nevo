import{e as c}from"./chunk-7FCM63U6.js";import{Ja as s,P as i,V as a,k as n}from"./chunk-2FX5CELB.js";var l=class o{token=new n(null);router=a(c);constructor(){s(()=>{if(typeof localStorage<"u"){let e=localStorage.getItem("userToken"),t=parseInt(localStorage.getItem("expiresIn")?.split(",").join("")||"0"),r=new Date().getTime();console.log(r),e&&t>r?(this.token.next(e),this.router.navigate(["nevo"],{replaceUrl:!0})):this.token.next(e)}})}storeToken(e){this.token.next(e);let t=new Date().getTime()+60*60*1e3;localStorage.setItem("userToken",e),localStorage.setItem("expiresIn",t.toLocaleString())}clearToken(){this.token.next(null),localStorage.removeItem("userToken"),this.router.navigate([""])}static \u0275fac=function(t){return new(t||o)};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})};export{l as a};
